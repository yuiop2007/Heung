<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>새창(자식창)</title>
</head>
<body>
  <form name="childForm">
    <div style="text-align:center;">
      <h4>자식폼 입니다.</h4>
      <p>
        아이디 : <input type="text" name="mid" id="mid" autofocus/>
      </p>
      <p>
        <input type="button" value="창닫기" onclick="closeWin()"/>
        <input type="button" value="아이디 가져오기" onclick="receiveMid();"/>
        <input type="button" value="아이디 보내기" onclick="sendMid();"/>
      </p>
      <p>
        <input type="button" value="아이디보내고창닫기" onclick="midSendClose()"/>
      </p>
      <p id="childDemo"></p>
    </div>
  </form>
  <script>
    document.getElementById("childDemo").innerHTML = opener.document.getElementById("mid").value;
    // 부모창의 아이디를 자식창에 표시
    function receiveMid() {
      document.getElementById("childDemo").innerHTML = opener.document.getElementById("mid").value;
      document.getElementById("mid").value = opener.document.getElementById("mid").value;
    }

    // 자식창의 아이디값을 부모창의 아이디 폼에 출력시켜주기.
    function sendMid() {
      opener.document.getElementById("mid").value = document.getElementById("mid").value;
    }

    // 창닫기 버튼을 누르면 자식창은 닫히고, 커서는 부모차의 password로 이동시킨다.
    function closeWin() {
      opener.document.getElementById("pwd").focus();
      window.close();
    }

    // 아디디를 부모창에 보내고, 커서는 부모창의 비밀번호위치로 보내고 창을 닫는다.
    function midSendClose() {
      opener.document.getElementById("mid").value = document.getElementById("mid").value;
      opener.document.getElementById("pwd").focus();
      window.close();
    }
  </script>
</body>
</html>